<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1.0" />
	<title>r00t 知识库</title>
	<style>
body {
	background: rgba(0,0,0,0.8);
	text-align: center;
}

.info-txt {
	padding-top: 3em;
	color: white;
	font-size: 1.5em;
}
	</style>
</head>
<body>
	<p class="info-txt">正在检查您的网络环境……</p>
	<script>
const ADDR_INTRANET = 'http://218.193.156.208:8080/';
const ADDR_INTERNET = 'https://webproxy.dhu.edu.cn/http-8080/77726476706e69737468656265737421a2a619d276693b1e2f5ddfe2ca057b/';

window.onload = function() {
	var xhr = new XMLHttpRequest();
	xhr.timeout = 1200;
	xhr.onerror = function() {
		// We don't have an `index.js` on our website; the request should 404
		// if we are in the intranet, hence the onerror() callback
		location.replace(ADDR_INTRANET);
	}
	xhr.ontimeout = function() {
		// However if not on intranet, the connection will timeout
		location.replace(ADDR_INTERNET);
	}
	xhr.open('HEAD', ADDR_INTRANET + '/index.js', true);
	xhr.send();
}
	</script>
</body>
</html>